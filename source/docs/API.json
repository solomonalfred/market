{"openapi":"3.1.0","info":{"title":"API Avito shop","version":"1.0.0"},"paths":{"/api/signup":{"post":{"tags":["auth"],"summary":"Registration user","operationId":"registration_api_signup_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Registration"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth":{"post":{"tags":["auth"],"summary":"Аутентификация и получение JWT-токена.","operationId":"token_api_auth_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_token_api_auth_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/info":{"get":{"tags":["user"],"summary":"Получить информацию о монетах, инвентаре и истории транзакций.","operationId":"info_api_info_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserHistory"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/sendCoin":{"post":{"tags":["user"],"summary":"Отправить монеты другому пользователю.","operationId":"send_coin_api_sendCoin_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendCoin"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseMessage"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/buy/{item}":{"get":{"tags":["user"],"summary":"Купить предмет за монеты.","operationId":"buy_api_buy__item__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"item","in":"path","required":true,"schema":{"type":"string","title":"Item"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseMessage"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/addUser":{"put":{"tags":["admin"],"summary":"Создание пользователя.","operationId":"add_user_api_addUser_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminUser"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseMessage"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/addMerch":{"put":{"tags":["admin"],"summary":"Добавление вещи.","operationId":"add_merch_item_api_addMerch_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MerchInfo"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseMessage"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/deleteUser":{"delete":{"tags":["admin"],"summary":"Удаление пользователя.","operationId":"delete_user_api_deleteUser_delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"login","in":"query","required":true,"schema":{"type":"string","title":"Login"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseMessage"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/updateUser":{"post":{"tags":["admin"],"summary":"Обновление пользователя.","operationId":"update_user_info_api_updateUser_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUser"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseMessage"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}}},"components":{"schemas":{"AdminUser":{"properties":{"login":{"type":"string","maxLength":150,"minLength":3,"title":"Login"},"password":{"type":"string","minLength":6,"title":"Password"},"email":{"type":"string","format":"email","title":"Email"},"first_name":{"anyOf":[{"type":"string","maxLength":64},{"type":"null"}],"title":"First Name"},"last_name":{"anyOf":[{"type":"string","maxLength":64},{"type":"null"}],"title":"Last Name"},"role":{"type":"string","enum":["user","admin"],"title":"Role","default":"user"},"coins_amount":{"type":"integer","minimum":0.0,"title":"Coins Amount"}},"type":"object","required":["login","password","coins_amount"],"title":"AdminUser"},"Body_token_api_auth_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"^password$"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_token_api_auth_post"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MerchInfo":{"properties":{"name":{"type":"string","maxLength":150,"minLength":1,"title":"Name"},"price":{"type":"integer","minimum":0.0,"title":"Price"}},"type":"object","required":["name","price"],"title":"MerchInfo"},"Registration":{"properties":{"login":{"type":"string","maxLength":150,"minLength":3,"title":"Login"},"password":{"type":"string","minLength":6,"title":"Password"},"email":{"type":"string","format":"email","title":"Email"},"first_name":{"anyOf":[{"type":"string","maxLength":64},{"type":"null"}],"title":"First Name"},"last_name":{"anyOf":[{"type":"string","maxLength":64},{"type":"null"}],"title":"Last Name"},"role":{"type":"string","enum":["user","admin"],"title":"Role","default":"user"}},"type":"object","required":["login","password"],"title":"Registration"},"ResponseMessage":{"properties":{"description":{"type":"string","title":"Description"}},"type":"object","required":["description"],"title":"ResponseMessage"},"SendCoin":{"properties":{"toUser":{"type":"string","maxLength":150,"minLength":3,"title":"Touser"},"amount":{"type":"integer","minimum":0.0,"title":"Amount"}},"type":"object","required":["toUser","amount"],"title":"SendCoin"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"}},"type":"object","required":["access_token"],"title":"Token"},"UpdateUser":{"properties":{"login":{"type":"string","maxLength":150,"minLength":3,"title":"Login"},"coin_amount":{"type":"integer","minimum":0.0,"title":"Coin Amount"},"role":{"type":"string","enum":["user","admin"],"title":"Role","default":"user"}},"type":"object","required":["login","coin_amount"],"title":"UpdateUser"},"UserHistory":{"properties":{"coins":{"type":"integer","title":"Coins","default":[0]},"inventory":{"items":{"prefixItems":[{"type":"string"},{"type":"integer"}],"type":"array","maxItems":2,"minItems":2},"type":"array","title":"Inventory","default":[[]]},"coinHistory":{"additionalProperties":{"items":{"prefixItems":[{"type":"string"},{"type":"integer"}],"type":"array","maxItems":2,"minItems":2},"type":"array"},"type":"object","title":"Coinhistory"}},"type":"object","required":["coinHistory"],"title":"UserHistory"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/auth"}}}}}}
